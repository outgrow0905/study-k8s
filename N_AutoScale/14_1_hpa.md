## HPA (Horizontal Pod Autoscaling)
[Resource Management](../M_ResourceManagement)에서 클러스터의 노드 혹은 각 Pod들의 metric들을 수집할 수 있게 되었다.  
이제 이것을 활용할 수 있다는 것이다. 어디에 활용할까?  
Pod의 cpu 사용량을 수집하고 있으니, 이를 기반으로 autoscale을 할 수 있다면 더할나위 없겠다.

아래와 같은 시나리오를 생각해보자.
~~~
resource: Deployment
replica: 2
cpu request: 100m
targetAverageUtilization: 30 # cpu request의 30%만 사용하고 싶다는 의미이다.
~~~

현재 cpu 사용율이 각 Pod에서 200m이라면, 아래와 같이 `desiredReplicas`를 계산해낼 수도 있겠다.

~~~
desiredReplicas = ceil(2 * 200m / 100m) = 4
~~~
   
위의 일련의 과정은 kubernetes HPA가 하는 일과 비슷하다. 실제 실습을 진행해보자.



## 


## 




## Reference 
- https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/
- https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/